{% extends "wagtailadmin/generic/index.html" %}
{% load i18n %}

{% block listing %}
    <div class="nice-padding">
        <div id="sites-list">
            <table class="listing">
                <thead>
                    <tr>
                        <th class="name">{% trans "ID" %}</th>
                        <th class="name">{% trans "Source locale" %}</th>
                        <th class="name">{% trans "Target locale" %}</th>
                        <th class="name">{% trans "Progress" %}</th>
                        <th class="name">{% trans "Status" %}</th>
                    </tr>
                </thead>
                <tbody>
                    {% for translation_request in translation_requests %}
                        {% with translation_request.get_progress as progress %}
                            <tr>
                                <td class="hostname title">
                                    <b><a href="{% url 'wagtail_localize_workflow_management:detail' translation_request.id %}">{{ translation_request.id }}</a></b>
                                </td>
                                <td>
                                    {{ translation_request.source.locale }}
                                </td>
                                <td>
                                    {{ translation_request.target_locale }}
                                </td>
                                <td>
                                    {{ progress.1 }} out of {{ progress.0 }} strings translated
                                </td>
                                <td>
                                    {% if progress.0 == progress.1 %}
                                        Up to date
                                    {% else %}
                                        Waiting for translations
                                    {% endif %}
                                </td>
                            </tr>
                        {% endwith %}
                    {% endfor %}
                </tbody>
            </table>

        </div>
    </div>
{% endblock %}
